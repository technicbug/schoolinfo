const maps = [
    {
        id : 1,
        name : "멀티미디어실",
        loc : "본관 1층",
        locNum : "1-1",
      },
      
      {
        id : 2,
        name : "휴게실",
        loc : "본관 1층",
        locNum : "1-1",
      },
      
      {
        id : 3,
        name : "보건실",
        loc : "본관 1층",
        locNum : "1-1",
      },
      
      {
        id : 4,
        name : "문서고",
        loc : "본관 1층",
        locNum : "1-1",
      },
      
      {
        id : 5,
        name : "인쇄실",
        loc : "본관 1층",
        locNum : "1-1",
      },
      
      {
        id : 6,
        name : "문서고",
        loc : "본관 1층",
        locNum : "1-1",
      },
      
      {
        id : 7,
        name : "샤워실",
        loc : "본관 1층",
        locNum : "1-1",
      },
      
      {
        id : 8,
        name : "2-8",
        loc : "본관 2층",
        locNum : "1-2",
      },
      
      {
        id : 9,
        name : "2-7",
        loc : "본관 2층",
        locNum : "1-2",
      },
      
      {
        id : 10,
        name : "2-6",
        loc : "본관 2층",
        locNum : "1-2",
      },
      
      {
        id : 11,
        name : "2-5",
        loc : "본관 2층",
        locNum : "1-2",
      },
      
      {
        id : 12,
        name : "2-4",
        loc : "본관 2층",
        locNum : "1-2",
      },
      
      {
        id : 13,
        name : "화장실(여)",
        loc : "본관 2층",
        locNum : "1-2",
      },
      
      {
        id : 14,
        name : "화장실(남)",
        loc : "본관 2층",
        locNum : "1-2",
      },
      
      {
        id : 15,
        name : "행정실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 16,
        name : "이사장실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 17,
        name : "교장실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 18,
        name : "법인사무실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 19,
        name : "회의실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 20,
        name : "교무실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 21,
        name : "성적처리실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 22,
        name : "여교사휴게실",
        loc : "본관 3층",
        locNum : "1-3",
      },
      
      {
        id : 23,
        name : "1-8",
        loc : "본관 4층",
        locNum : "1-4",
      },
      
      {
        id : 24,
        name : "1-7",
        loc : "본관 4층",
        locNum : "1-4",
      },
      
      {
        id : 25,
        name : "1-6",
        loc : "본관 4층",
        locNum : "1-4",
      },
      
      {
        id : 26,
        name : "1-5",
        loc : "본관 4층",
        locNum : "1-4",
      },
      
      {
        id : 27,
        name : "1-4",
        loc : "본관 4층",
        locNum : "1-4",
      },
      
      {
        id : 28,
        name : "화장실(여)",
        loc : "본관 4층",
        locNum : "1-4",
      },
      
      {
        id : 29,
        name : "화장실(남)",
        loc : "본관 4층",
        locNum : "1-4",
      },
      
      {
        id : 30,
        name : "1-1",
        loc : "본관 5층",
        locNum : "1-5",
      },
      
      {
        id : 31,
        name : "1-2",
        loc : "본관 5층",
        locNum : "1-5",
      },
      
      {
        id : "32",
        name : "방송실",
        loc : "본관 5층",
        locNum : "1-5",
      },
      
      {
        id : 33,
        name : "사회교과실",
        loc : "본관 5층",
        locNum : "1-5",
      },
      {
        id : 77,
        name : "진로활동실",
        loc : "본관 5층",
        locNum : "1-5"
      },
      
      {
        id : 34,
        name : "1-3",
        loc : "본관 5층",
        locNum : "1-5",
      },
      
      {
        id : 35,
        name : "화장실(여)",
        loc : "별관 1층",
        locNum : "2-1",
      },
      
      {
        id : 36,
        name : "3-6",
        loc : "별관 1층",
        locNum : "2-1",
      },
      
      {
        id : 37,
        name : "3-7",
        loc : "별관 1층",
        locNum : "2-1",
      },
      
      {
        id : 38,
        name : "3-8",
        loc : "별관 1층",
        locNum : "2-1",
      },
      
      {
        id : 39,
        name : "화장실(남)",
        loc : "별관 2층",
        locNum : "2-2",
      },
      
      {
        id : 40,
        name : "3-3",
        loc : "별관 2층",
        locNum : "2-2",
      },
      
      {
        id : 41,
        name : "3-4",
        loc : "별관 2층",
        locNum : "2-2",
      },
      
      {
        id : 42,
        name : "3-5",
        loc : "별관 2층",
        locNum : "2-2",
      },
      
      {
        id : 43,
        name : "화장실(여)",
        loc : "별관 3층",
        locNum : "2-3",
      },
      
      {
        id : 44,
        name : "교무실",
        loc : "별관 3층",
        locNum : "2-3",
      },
      
      {
        id : 45,
        name : "3-1",
        loc : "별관 3층",
        locNum : "2-3",
      },
      
      {
        id : 46,
        name : "3-2",
        loc : "별관 3층",
        locNum : "2-3",
      },
      
      {
        id : 47,
        name : "화장실(남)",
        loc : "별관 4층",
        locNum : "2-4",
      },
      
      {
        id : 48,
        name : "2-3",
        loc : "별관 4층",
        locNum : "2-4",
      },
      
      {
        id : 49,
        name : "2-2",
        loc : "별관 4층",
        locNum : "2-4",
      },
      
      {
        id : 50,
        name : "2-1",
        loc : "별관 4층",
        locNum : "2-4",
      },
      
      {
        id : 51,
        name : "다목적실",
        loc : "다목적관 2층",
        locNum : "3-2",
      },
      
      {
        id : 52,
        name : "음악실",
        loc : "다목적관 2층",
        locNum : "3-2",
      },
      
      {
        id : 53,
        name : "탈의실(여)",
        loc : "다목적관 3층",
        locNum : "3-3",
      },
      
      {
        id : 54,
        name : "화장실(여)",
        loc : "다목적관 3층",
        locNum : "3-3",
      },
      
      {
        id : 55,
        name : "샤워실(여)",
        loc : "다목적관 3층",
        locNum : "3-3",
      },
      
      {
        id : 56,
        name : "자기진학실",
        loc : "다목적관 3층",
        locNum : "3-3",
      },
      
      {
        id : 57,
        name : "사회교과실",
        loc : "다목적관 3층",
        locNum : "3-3",
      },
      
      {
        id : 58,
        name : "소강당",
        loc : "다목적관 3층",
        locNum : "3-3",
      },
      
      {
        id : 59,
        name : "탈의실(남)",
        loc : "다목적관 4층",
        locNum : "3-4",
      },
      
      {
        id : 60,
        name : "화장실(남)",
        loc : "다목적관 4층",
        locNum : "3-4",
      },
      
      {
        id : 61,
        name : "학생부 교무실",
        loc : "다목적관 4층",
        locNum : "3-4",
      },
      
      {
        id : 62,
        name : "강당",
        loc : "다목적관 4층",
        locNum : "3-4",
      },
      
      {
        id : 63,
        name : "학생회실 / 헬스장",
        loc : "다목적관 5층",
        locNum : "3-5",
      },
      
      {
        id : 64,
        name : "수학교과실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 65,
        name : "생물교과실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 66,
        name : "생물준비실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 67,
        name : "지구과학교과실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 68,
        name : "지구과학준비실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 69,
        name : "수학교과교무실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 70,
        name : "과학교과교무실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 71,
        name : "화학준비실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 72,
        name : "물리준비실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 73,
        name : "물리교과실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 74,
        name : "화학교과실",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 75,
        name : "화장실(여)",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      },
      
      {
        id : 76,
        name : "화장실(남)",
        loc : "체육관(별관) 1층",
        locNum : "5-1",
      }
    

]
const images = [
    {
        id : 1,
        name : "본관",
        src : "image/본관.jpeg",   
    },

    {
        id : 2,
        name : "별관",
        src : "image/별관.jpeg",   
    },

    {
        id : 3,
        name : "정경관",
        src : "image/졍경관.jpeg",   
    },

    {
        id : 4,
        name : "다목적관",
        src : "image/다목적관.jpeg",   
    },

]

const list = document.getElementById('list');

function showList(val = '', clear = false){
    if(clear){
        list.innerHTML = '';
        return 0;
    }
    if(val == ''){
        list.innerHTML = '';

        const res = images.forEach((img) => {
            const li = document.createElement('li');
            li.innerHTML =`
                <img src="image/${img.name}.jpeg" alt="${img.name}">
                <p>${img.name}</p>
            `
            list.appendChild(li)
        })
        
        detail('','','',true);
        

    } else{
        let ifdo = false;
        list.innerHTML = '';
        const res = maps.forEach(function(map) {

            let search_val = val.replace(' ', '');
            search_val = search_val.replace('학년', '-');
            search_val = search_val.replace('반', '')

            if(map.name.includes(search_val) || map.loc.includes(search_val)){
                const li = document.createElement('li');
                // const maparr = [map.id, map.name, map.loc, map.locNum]
                // console.log(maparr)
                li.innerHTML=`
                    <p>${map.name}</p>
                    <p>위치 : ${map.loc}</p>
                    <button id="infoButton" onclick="detail('${map.name}', '${map.loc}', '${map.locNum}')">위치 보기</button>
                `

                list.appendChild(li);
                if(ifdo==false){
                    ifdo = true;
                }
            }

        })  
        if(ifdo==false && clear == false){
            list.innerHTML = `<h3>"${val}" 에 대한 검색결과가 없습니다</h3>
              <p>반 검색시 (학년)-(반) 으로 검색해 주세요. ex) 2학년 3반 (X), 2-3 (O)</p>
            `

        }
        detail('','','',true)
    }
    
}

showList()

const searchInput = document.getElementById('search');
const searchBtn = document.getElementById('searchButton');

searchBtn.addEventListener('click', (e)=>{
    e.preventDefault();
    const val = searchInput.value;
    showList(val);
})

function search(e){
    if(e.keyCode == 13){
        const val = searchInput.value;
        showList(val);
    }
}


function detail(name ='', loc='', locNum='', clear = false){
    
    const mapimg = document.getElementById('map');
    if(clear == true){
        mapimg.innerHTML = '';
    } else{
        mapimg.innerHTML = '';
        mapimg.innerHTML = `
            <h2>${name} | ${loc}</h2>
            <img src="image/map/${locNum}.png" alt="사진은 추후 업로드 예정입니다">
        `;
        showList('@@@@', true)
    }

}